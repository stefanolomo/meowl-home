<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meowl's Garden</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            overflow: hidden;
            font-family: 'Segoe UI', sans-serif;
        }

        .garden {
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, #fdf6f0 0%, #fce4ec 30%, #f8bbd9 60%, #c8e6c9 100%);
            position: relative;
            overflow: hidden;
        }

        .grass {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(180deg, #a5d6a7 0%, #81c784 50%, #66bb6a 100%);
            border-radius: 100% 100% 0 0 / 20% 20% 0 0;
        }

        .flower {
            position: absolute;
            z-index: 1;
        }

        .flower-center {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2;
        }

        .petal {
            width: 18px;
            height: 18px;
            border-radius: 50% 50% 50% 50%;
            position: absolute;
        }

        .stem {
            width: 4px;
            height: 60px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            top: 30px;
            border-radius: 2px;
        }

        .leaf {
            width: 20px;
            height: 10px;
            border-radius: 50% 50% 50% 50%;
            position: absolute;
        }

        .meowl {
            position: absolute;
            z-index: 10;
            transition: left 0.15s ease-out, top 0.15s ease-out;
        }

        .meowl img {
            width: 120px;
            height: auto;
            image-rendering: pixelated;
        }

        .sun {
            position: absolute;
            top: 40px;
            right: 80px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #fff9c4 0%, #ffeb3b 50%, #ffc107 100%);
            border-radius: 50%;
            box-shadow: 0 0 60px #fff59d, 0 0 100px #ffee58;
        }

        .cloud {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50px;
            z-index: 0;
        }

        .cloud::before, .cloud::after {
            content: '';
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
        }

        .butterfly {
            position: absolute;
            z-index: 5;
            animation: fly 8s ease-in-out infinite;
        }

        .butterfly-wing {
            width: 12px;
            height: 16px;
            border-radius: 50%;
            position: absolute;
            animation: flap 0.3s ease-in-out infinite alternate;
        }

        @keyframes flap {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(70deg); }
        }

        @keyframes fly {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(50px, -30px); }
            50% { transform: translate(100px, 10px); }
            75% { transform: translate(50px, 40px); }
        }

        .house {
            position: absolute;
            z-index: 3;
        }

        .house-body {
            width: 140px;
            height: 100px;
            background: linear-gradient(135deg, #ffe4ec 0%, #ffcdd2 100%);
            border-radius: 8px;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .house-roof {
            width: 0;
            height: 0;
            border-left: 85px solid transparent;
            border-right: 85px solid transparent;
            border-bottom: 70px solid #f8bbd9;
            position: absolute;
            top: -70px;
            left: -15px;
        }

        .house-roof::after {
            content: '';
            position: absolute;
            left: -85px;
            top: 70px;
            border-left: 85px solid transparent;
            border-right: 85px solid transparent;
            border-bottom: 10px solid #f48fb1;
        }

        .house-door {
            width: 35px;
            height: 55px;
            background: linear-gradient(135deg, #b69a7d 0%, #a1887f 100%);
            border-radius: 5px 5px 0 0;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .house-door::after {
            content: '';
            width: 6px;
            height: 6px;
            background: #ffd54f;
            border-radius: 50%;
            position: absolute;
            right: 6px;
            top: 50%;
            transform: translateY(-50%);
        }

        .house-window {
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border: 3px solid #f8bbd9;
            border-radius: 5px;
            position: absolute;
            top: 20px;
        }

        .house-window.left { left: 15px; }
        .house-window.right { right: 15px; }

        .house-window::before, .house-window::after {
            content: '';
            position: absolute;
            background: #f8bbd9;
        }

        .house-window::before {
            width: 100%;
            height: 2px;
            top: 50%;
            transform: translateY(-50%);
        }

        .house-window::after {
            width: 2px;
            height: 100%;
            left: 50%;
            transform: translateX(-50%);
        }

        .chimney {
            width: 25px;
            height: 45px;
            background: #f8bbd9;
            position: absolute;
            top: -100px;
            right: 25px;
            border-radius: 3px 3px 0 0;
        }

        .tree {
            position: absolute;
            z-index: 2;
        }

        .tree-trunk {
            background: linear-gradient(90deg, #6d4c41 0%, #8d6e63 30%, #a1887f 50%, #8d6e63 70%, #6d4c41 100%);
            border-radius: 8px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .tree-branch {
            position: absolute;
            background: linear-gradient(90deg, #6d4c41 0%, #8d6e63 50%, #6d4c41 100%);
            border-radius: 4px;
        }

        .tree-root {
            position: absolute;
            bottom: 0;
            height: 8px;
            background: linear-gradient(180deg, #8d6e63 0%, #6d4c41 100%);
            border-radius: 0 0 10px 10px;
        }

        .tree-foliage {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .tree-layer {
            width: 0;
            height: 0;
            border-left: solid transparent;
            border-right: solid transparent;
            border-bottom: solid;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .foliage-cluster {
            position: absolute;
            border-radius: 50%;
        }

        .instructions {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.7);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            color: #7b6b5d;
            z-index: 100;
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body>
    <div class="garden" id="garden">
        <div class="sun"></div>
        <div class="grass"></div>
        <div class="meowl" id="meowl">
            <img src="assets/still.gif" alt="Meowl" id="meowl-sprite">
        </div>
        <div class="instructions">
            Use arrow keys or WASD to move Meowl
        </div>
    </div>

    <script>
        const garden = document.getElementById('garden');
        const meowl = document.getElementById('meowl');
        const meowlSprite = document.getElementById('meowl-sprite');

        const positions = {
            'north': 'assets/positions/north.png',
            'south': 'assets/positions/south.png',
            'east': 'assets/positions/east.png',
            'west': 'assets/positions/west.png',
            'north-east': 'assets/positions/north-east.png',
            'north-west': 'assets/positions/north-west.png',
            'south-east': 'assets/positions/south-east.png',
            'south-west': 'assets/positions/south-west.png'
        };

        const flowerColors = [
            { petals: '#f8bbd9', center: '#fff59d' },
            { petals: '#e1bee7', center: '#ffcc80' },
            { petals: '#b3e5fc', center: '#fff9c4' },
            { petals: '#c5cae9', center: '#f8bbd9' },
            { petals: '#ffccbc', center: '#ffe0b2' },
            { petals: '#dcedc8', center: '#fff59d' },
            { petals: '#b2dfdb', center: '#ffab91' }
        ];

        const treeColors = [
            { light: '#c8e6c9', mid: '#a5d6a7', dark: '#81c784' },
            { light: '#dcedc8', mid: '#c5e1a5', dark: '#aed581' },
            { light: '#f8bbd9', mid: '#f48fb1', dark: '#ec407a' }
        ];

        let meowlX = window.innerWidth / 2 - 60;
        let meowlY = window.innerHeight / 2;
        let currentDirection = 'south';
        let isMoving = false;
        let moveInterval;

        meowl.style.left = meowlX + 'px';
        meowl.style.top = meowlY + 'px';

        function createFlower(x, y, color) {
            const flower = document.createElement('div');
            flower.className = 'flower';
            flower.style.left = x + 'px';
            flower.style.top = y + 'px';

            const stem = document.createElement('div');
            stem.className = 'stem';
            stem.style.background = '#66bb6a';
            flower.appendChild(stem);

            const leaf1 = document.createElement('div');
            leaf1.className = 'leaf';
            leaf1.style.background = '#81c784';
            leaf1.style.left = '-8px';
            leaf1.style.top = '20px';
            leaf1.style.transform = 'rotate(-30deg)';
            flower.appendChild(leaf1);

            const leaf2 = document.createElement('div');
            leaf2.className = 'leaf';
            leaf2.style.background = '#81c784';
            leaf2.style.right = '-8px';
            leaf2.style.top = '35px';
            leaf2.style.transform = 'rotate(30deg)';
            flower.appendChild(leaf2);

            const petalsContainer = document.createElement('div');
            petalsContainer.style.position = 'relative';
            petalsContainer.style.width = '50px';
            petalsContainer.style.height = '50px';

            for (let i = 0; i < 6; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.style.background = color.petals;
                const angle = (i * 60) * Math.PI / 180;
                petal.style.left = (25 + Math.cos(angle) * 15 - 9) + 'px';
                petal.style.top = (25 + Math.sin(angle) * 15 - 9) + 'px';
                petalsContainer.appendChild(petal);
            }

            const center = document.createElement('div');
            center.className = 'flower-center';
            center.style.background = color.center;
            center.style.left = '25px';
            center.style.top = '25px';
            petalsContainer.appendChild(center);

            flower.appendChild(petalsContainer);
            garden.appendChild(flower);
        }

        function createCloud(x, y, size) {
            const cloud = document.createElement('div');
            cloud.className = 'cloud';
            cloud.style.left = x + 'px';
            cloud.style.top = y + 'px';
            cloud.style.width = size + 'px';
            cloud.style.height = (size * 0.4) + 'px';
            garden.appendChild(cloud);
        }

        function createButterfly(x, y) {
            const butterfly = document.createElement('div');
            butterfly.className = 'butterfly';
            butterfly.style.left = x + 'px';
            butterfly.style.top = y + 'px';
            butterfly.style.animationDelay = Math.random() * 5 + 's';

            const wingL = document.createElement('div');
            wingL.className = 'butterfly-wing';
            wingL.style.background = flowerColors[Math.floor(Math.random() * flowerColors.length)].petals;
            wingL.style.left = '-10px';
            butterfly.appendChild(wingL);

            const wingR = document.createElement('div');
            wingR.className = 'butterfly-wing';
            wingR.style.background = wingL.style.background;
            wingR.style.right = '-10px';
            wingR.style.animationDelay = '0.15s';
            butterfly.appendChild(wingR);

            garden.appendChild(butterfly);
        }

        function createHouse(x, y) {
            const house = document.createElement('div');
            house.className = 'house';
            house.style.left = x + 'px';
            house.style.top = y + 'px';

            const body = document.createElement('div');
            body.className = 'house-body';
            house.appendChild(body);

            const roof = document.createElement('div');
            roof.className = 'house-roof';
            body.appendChild(roof);

            const chimney = document.createElement('div');
            chimney.className = 'chimney';
            body.appendChild(chimney);

            const door = document.createElement('div');
            door.className = 'house-door';
            body.appendChild(door);

            const windowLeft = document.createElement('div');
            windowLeft.className = 'house-window left';
            body.appendChild(windowLeft);

            const windowRight = document.createElement('div');
            windowRight.className = 'house-window right';
            body.appendChild(windowRight);

            garden.appendChild(house);
        }

        function createTree(x, y, size, colors) {
            const tree = document.createElement('div');
            tree.className = 'tree';
            tree.style.left = x + 'px';
            tree.style.bottom = y + 'px';

            const trunk = document.createElement('div');
            trunk.className = 'tree-trunk';
            trunk.style.height = (size * 1.2) + 'px';
            trunk.style.width = (size * 0.25) + 'px';
            trunk.style.bottom = '0px';
            tree.appendChild(trunk);

            const roots = [
                { left: '-30%', width: size * 0.15, rotate: -25 },
                { left: '10%', width: size * 0.12, rotate: -10 },
                { left: '70%', width: size * 0.12, rotate: 10 },
                { left: '100%', width: size * 0.15, rotate: 25 }
            ];

            roots.forEach(r => {
                const root = document.createElement('div');
                root.className = 'tree-root';
                root.style.left = r.left;
                root.style.width = r.width + 'px';
                root.style.transform = `rotate(${r.rotate}deg)`;
                root.style.transformOrigin = 'top center';
                trunk.appendChild(root);
            });

            const branches = [
                { side: 'left', top: '60%', length: size * 0.35, angle: -35, thickness: size * 0.06 },
                { side: 'right', top: '50%', length: size * 0.45, angle: 30, thickness: size * 0.07 },
                { side: 'left', top: '35%', length: size * 0.3, angle: -40, thickness: size * 0.05 },
                { side: 'right', top: '25%', length: size * 0.25, angle: 35, thickness: size * 0.04 }
            ];

            branches.forEach(b => {
                const branch = document.createElement('div');
                branch.className = 'tree-branch';
                branch.style.width = b.length + 'px';
                branch.style.height = b.thickness + 'px';
                branch.style.top = b.top;
                branch.style[b.side] = '-' + (b.length * 0.1) + 'px';
                branch.style.transformOrigin = b.side === 'left' ? 'right center' : 'left center';
                branch.style.transform = `rotate(${b.angle}deg)`;
                trunk.appendChild(branch);
            });

            const foliage = document.createElement('div');
            foliage.className = 'tree-foliage';
            foliage.style.bottom = (size * 0.9) + 'px';
            foliage.style.width = (size * 2) + 'px';
            foliage.style.height = (size * 1.5) + 'px';
            foliage.style.left = '50%';
            foliage.style.marginLeft = (-size) + 'px';

            const clusters = [
                { x: 50, y: 20, size: size * 0.5, color: colors.dark },
                { x: 20, y: 35, size: size * 0.4, color: colors.mid },
                { x: 80, y: 35, size: size * 0.45, color: colors.mid },
                { x: 35, y: 55, size: size * 0.55, color: colors.dark },
                { x: 65, y: 55, size: size * 0.5, color: colors.mid },
                { x: 50, y: 75, size: size * 0.6, color: colors.light },
                { x: 20, y: 80, size: size * 0.35, color: colors.dark },
                { x: 80, y: 80, size: size * 0.4, color: colors.dark },
                { x: 50, y: 45, size: size * 0.35, color: colors.light },
                { x: 30, y: 65, size: size * 0.3, color: colors.light },
                { x: 70, y: 60, size: size * 0.35, color: colors.light }
            ];

            clusters.forEach(c => {
                const cluster = document.createElement('div');
                cluster.className = 'foliage-cluster';
                cluster.style.left = (c.x / 100 * size * 2 - c.size / 2) + 'px';
                cluster.style.top = (c.y / 100 * size * 1.5 - c.size / 2) + 'px';
                cluster.style.width = c.size + 'px';
                cluster.style.height = c.size + 'px';
                cluster.style.background = `radial-gradient(circle at 30% 30%, ${c.color}dd, ${c.color}88)`;
                cluster.style.boxShadow = `inset -5px -5px 15px rgba(0,0,0,0.1)`;
                foliage.appendChild(cluster);
            });

            tree.appendChild(foliage);
            garden.appendChild(tree);
        }

        createHouse(100, window.innerHeight * 0.45);

        const treePositions = [
            { x: window.innerWidth * 0.72, y: 20, size: 180 },
            { x: window.innerWidth * 0.88, y: 30, size: 150 },
            { x: window.innerWidth * 0.12, y: 35, size: 160 },
            { x: window.innerWidth * 0.55, y: 40, size: 140 },
            { x: window.innerWidth * 0.38, y: 25, size: 170 }
        ];

        treePositions.forEach((pos, i) => {
            createTree(pos.x, pos.y, pos.size, treeColors[i % treeColors.length]);
        });

        for (let i = 0; i < 30; i++) {
            const x = Math.random() * (window.innerWidth - 100);
            const y = window.innerHeight * 0.5 + Math.random() * (window.innerHeight * 0.45);
            const color = flowerColors[Math.floor(Math.random() * flowerColors.length)];
            createFlower(x, y, color);
        }

        for (let i = 0; i < 4; i++) {
            const x = Math.random() * (window.innerWidth - 150);
            const y = 50 + Math.random() * 150;
            createCloud(x, y, 80 + Math.random() * 60);
        }

        for (let i = 0; i < 5; i++) {
            const x = Math.random() * window.innerWidth;
            const y = 100 + Math.random() * (window.innerHeight * 0.5);
            createButterfly(x, y);
        }

        function updateDirection(dx, dy) {
            if (dy < 0 && dx === 0) currentDirection = 'north';
            else if (dy > 0 && dx === 0) currentDirection = 'south';
            else if (dx > 0 && dy === 0) currentDirection = 'east';
            else if (dx < 0 && dy === 0) currentDirection = 'west';
            else if (dy < 0 && dx > 0) currentDirection = 'north-east';
            else if (dy < 0 && dx < 0) currentDirection = 'north-west';
            else if (dy > 0 && dx > 0) currentDirection = 'south-east';
            else if (dy > 0 && dx < 0) currentDirection = 'south-west';

            meowlSprite.src = positions[currentDirection];
        }

        function moveMeowl(dx, dy) {
            const speed = 8;
            meowlX += dx * speed;
            meowlY += dy * speed;

            meowlX = Math.max(0, Math.min(window.innerWidth - 120, meowlX));
            meowlY = Math.max(0, Math.min(window.innerHeight - 120, meowlY));

            meowl.style.left = meowlX + 'px';
            meowl.style.top = meowlY + 'px';

            updateDirection(dx, dy);
        }

        const keys = {};

        document.addEventListener('keydown', (e) => {
            keys[e.key] = true;
            if (!isMoving) {
                isMoving = true;
                moveInterval = setInterval(() => {
                    let dx = 0, dy = 0;
                    if (keys['ArrowUp'] || keys['w']) dy = -1;
                    if (keys['ArrowDown'] || keys['s']) dy = 1;
                    if (keys['ArrowLeft'] || keys['a']) dx = -1;
                    if (keys['ArrowRight'] || keys['d']) dx = 1;
                    if (dx !== 0 || dy !== 0) moveMeowl(dx, dy);
                }, 50);
            }
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key] = false;
            const anyKeyPressed = keys['ArrowUp'] || keys['ArrowDown'] || keys['ArrowLeft'] || keys['ArrowRight'] || 
                                  keys['w'] || keys['s'] || keys['a'] || keys['d'];
            if (!anyKeyPressed) {
                isMoving = false;
                clearInterval(moveInterval);
                meowlSprite.src = 'assets/still.gif';
            }
        });

        window.addEventListener('resize', () => {
            meowlX = Math.min(meowlX, window.innerWidth - 120);
            meowlY = Math.min(meowlY, window.innerHeight - 120);
            meowl.style.left = meowlX + 'px';
            meowl.style.top = meowlY + 'px';
        });
    </script>
</body>
</html>
